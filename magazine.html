<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>EEBM Magazine - Flipbook with Zoom</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background-color: #d6d6d6;
        }

        .wrapper {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .flex-grow-1 {
            flex-grow: 1;
        }

        .mag-header {
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 1rem 0;
            text-align: center;
            position: relative;
            top: 0;
            z-index: 10;
        }

        #flipbook {
            width: 100vw;
            max-width: 1100px;
            aspect-ratio: 4 / 3;
            margin: 2rem auto;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
        }

        #flipbook .page {
            background-color: white;
            overflow: hidden;
        }

        .page img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .footer {
            background-color: #272626;
            color: white;
            text-align: center;
            padding: 1rem 0;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            #flipbook {
                width: 100vw;
                aspect-ratio: 3 / 4;
            }
        }
    </style>
</head>

<body>
    <div class="wrapper d-flex flex-column min-vh-100">
        <!-- Transparent Header -->
        <header class="mag-header">
            <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center">
                <a href="../index.html" class="navbar-brand text-warning fw-semibold"
                    style="font-family: 'Baskerville', serif; font-size: 1.2rem;">
                    ‚Üê Home
                </a>
                <h1 class="text-center text-md-start">Magazine</h1>
            </div>
        </header>

        <!-- Flipbook -->
        <main class="flex-grow-1">
            <div id="flipbook">
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/1.png" alt="Page 1"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/2.png" alt="Page 2"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/3.png" alt="Page 3"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/4.png" alt="Page 4"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/5.png" alt="Page 5"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/6.png" alt="Page 6"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/7.png" alt="Page 7"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/8.png" alt="Page 8"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/9.png" alt="Page 9"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/10.png" alt="Page 10"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/11.png" alt="Page 11"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/12.png" alt="Page 12"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/13.png" alt="Page 13"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/14.png" alt="Page 14"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/15.png" alt="Page 15"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/16.png" alt="Page 16"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/17.png" alt="Page 17"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/18.png" alt="Page 18"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/19.png" alt="Page 19"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/20.png" alt="Page 20"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/21.png" alt="Page 21"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/22.png" alt="Page 22"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/23.png" alt="Page 23"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/24.png" alt="Page 24"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/25.png" alt="Page 25"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/26.png" alt="Page 26"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/27.png" alt="Page 27"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/28.png" alt="Page 28"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/29.png" alt="Page 29"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/30.png" alt="Page 30"></div>
                <div class="page"><img src="./assets/img/magazine/EEBM Pages/31.png" alt="Page 31"></div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p class="mb-0">&copy; 2025 Powered By EVER EFFICIENT Business Management (Pvt) Ltd.</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/turn.js@4/turn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>

    <script>
        $(document).ready(function () {
            // Initialize flipbook
            $('#flipbook').turn({
                autoCenter: true,
                display: 'double',
                acceleration: true,
                gradients: true,
                elevation: 50,
                duration: 1000,
                when: {
                    turned: function (event, page, view) {
                        // Re-init zoom on images after page turn
                        zoom.attach('#flipbook .page img');
                    }
                }
            });

            // Initialize medium-zoom instance and keep reference
            const zoom = mediumZoom('#flipbook .page img', {
                margin: 24,
                background: 'rgba(0, 0, 0, 0.8)',
                scrollOffset: 40,
                container: document.body
            });

            // Optional: add click handler fallback (toggle zoom on image click)
            $('#flipbook').on('click', '.page img', function () {
                if (zoom.getZoomed()) {
                    zoom.close();
                } else {
                    zoom.show(this);
                }
            });
        });
    </script>
</body>

</html>